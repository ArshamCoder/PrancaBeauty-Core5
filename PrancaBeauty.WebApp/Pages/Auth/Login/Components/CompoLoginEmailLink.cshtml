@page "/{culture}/Auth/Login/Components/CompoLoginEmailLink"
@model PrancaBeauty.WebApp.Pages.Auth.Login.Components.CompoLoginEmailLinkModel


<div class="account_form">
    <h2>@Localizer["LoginByEmailLink"]</h2>
    <form id="compo_Login" method="post">
        <p>
            <label asp-for="Input.Email"></label>
            <input type="text" asp-for="Input.Email" class="text-left">
        </p>
        <div class="login_submit">
            <a onclick="LoginByPhoneNumber()" href="#LoginPhoneNumber">@Localizer["LoginByPhoneNumber"]</a>
            <label asp-for="Input.RemmeberMe">
                <input asp-for="Input.RemmeberMe">
                @Localizer["RemmeberMe"]
            </label>
            <button onclick="SendForm('/@ViewData["Culture"]/Auth/Login/Components/CompoLoginEmailLink','compo_Login')" type="button">@Localizer["Login"]</button>
        </div>
    </form>
</div>

<script>
    $(document).ready(function () {
        $('#Input_Email').inputmask({
            regex: '@Localizer["EmailPattern"]',
            placeholder: ''
        });
    });
    function GotoReturnUrl() {
        location.href = '@(System.Net.WebUtility.UrlDecode(ViewData["ReturnUrl"].ToString()))';
    }

    function LoginByPhoneNumber() {
        LoadComponenet('/@ViewData["Culture"]/Auth/Login/Components/LoginByPhoneNumber', { ReturnUrl: null }, function (data) {
            $('#CompoLogin').html(data);
        });
    }
</script>
