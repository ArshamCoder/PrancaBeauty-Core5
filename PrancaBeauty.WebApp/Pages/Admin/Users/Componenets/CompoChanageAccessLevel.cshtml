@page "/{culture}/Admin/Users/Compo/ChangeAccessLevel"
@model PrancaBeauty.WebApp.Pages.Admin.Users.Componenets.CompoChanageAccessLevelModel
<!-- Modal -->
<div class="modal fade" id="ChangeAccessLevel" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">@Localizer["ChangeAccessLevel"]</h5>
            </div>
            <div class="modal-body">
                <div class="k-lang">
                    @(Html.Kendo()
                        .ComboBox()
                        .Name("Input.AccessLevelId")
                        .HtmlAttributes(new { @class= "form-control",style="width:100%;height:35px;" })
                        .Placeholder(Localizer["PleseSelect"])
                        .DataTextField("Name")
                        .DataValueField("Id")
                        .Value(Model.Input.AccessLevelId) //برای محیط ویرایش مقدار را در دراپ دان ست می کند
                        .DataSource(sr => {
                                              sr.Read(read =>
                                              {
                                                  read.Url($"/{ViewData["culture"]}/Admin/Users/Compo/ChangeAccessLevel?handler=Read");
                                              });
                        }).Template("<div class='Hello'>#=Name#</div>"))
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="$('#ChangeAccessLevel').remove(); $('.modal-backdrop').remove()">@Localizer["Close"]</button>
                <button type="button" onclick="SaveAccessLevel()" class="btn btn-primary">@Localizer["Save"]</button>
            </div>
        </div>
    </div>
</div>
<script>
    function SaveAccessLevel() {
        var _AccessLevelId = $('#Input_AccessLevelId').val();
        SendData('/@ViewData["Culture"]/Admin/Users/Compo/ChangeAccessLevel',
            { UserId: '@Model.Input.UserId', AccessLevelId: _AccessLevelId });
    }
    function Close() {
        $('#ChangeAccessLevel').remove();
        $('.modal-backdrop').remove();
    }
</script>
